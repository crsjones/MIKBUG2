*
* TRAILERECORD SENDS A TRAILERECORD TO TAPE
*
*     RAM:  R, S (PERM)
*     REGS:  ACCA, ABBC (DESTROYED)
*
TRAILR  BSR   PREAMB   START A RECORD
        LDAA  #$20     TRAILERECORD TYPE
        BSR   BYTOV1
        BRA   BYTOV1   EXTRA BITS
*
* DUMPAGERECORD SENDS THE START SEQUENCE, DUMPAGE-TYPE,
*     PAGE NUMBER, 2048 BITS DATA, AND THE CRC CHARACTERS
*
*     RAM:  H, R, S (PERM); L (SCRATCH)
*     REGS:  ACCA, ACCB (DESTROYED), NEW IX
*     EXIT:  ACCA = 0
*
DUMPAG BSR    PREAMB   START A RECORD
       LDAA   #$10     DUMPAGE TYPE
       BSR    BYTOV1
       LDAA   H        SEND PAGE NUMBER
       BSR    BYTOV1
       CLR    L        DO ENTIRE PAGE
       LDX    H        POINT AT THE DATA
DUMP1  LDAA   0,X
       BSR    BYTOV1   SEND DATA
       INX
       INC    L        BYTE CTR
       BNE    DUMP1
       BSR    SENCRC
       LDAA   #'D      PRINT D FOR EACH PAGE DUMPED
       BSR    TTYO1
       CLRA
       BRA    BYTOV1   EXTRA BITS
